{"version":3,"file":"item-dashboard.min.js","sources":["../../../apps/erpnext/erpnext/stock/dashboard/item_dashboard.js"],"sourcesContent":["frappe.provide('erpnext.stock');\n\nerpnext.stock.ItemDashboard = Class.extend({\n\tinit: function (opts) {\n\t\t$.extend(this, opts);\n\t\tthis.make();\n\t},\n\tmake: function () {\n\t\tvar me = this;\n\t\tthis.start = 0;\n\t\tif (!this.sort_by) {\n\t\t\tthis.sort_by = 'projected_qty';\n\t\t\tthis.sort_order = 'asc';\n\t\t}\n\n\t\tthis.content = $(frappe.render_template('item_dashboard')).appendTo(this.parent);\n\t\tthis.result = this.content.find('.result');\n\n\t\tthis.content.on('click', '.btn-move', function () {\n\t\t\thandle_move_add($(this), \"Move\");\n\t\t});\n\n\t\tthis.content.on('click', '.btn-add', function () {\n\t\t\thandle_move_add($(this), \"Add\");\n\t\t});\n\n\t\tthis.content.on('click', '.btn-edit', function () {\n\t\t\tlet item = unescape($(this).attr('data-item'));\n\t\t\tlet warehouse = unescape($(this).attr('data-warehouse'));\n\t\t\tlet company = unescape($(this).attr('data-company'));\n\t\t\tfrappe.db.get_value('Putaway Rule', {\n\t\t\t\t'item_code': item,\n\t\t\t\t'warehouse': warehouse,\n\t\t\t\t'company': company\n\t\t\t}, 'name', (r) => {\n\t\t\t\tfrappe.set_route(\"Form\", \"Putaway Rule\", r.name);\n\t\t\t});\n\t\t});\n\n\t\tfunction handle_move_add(element, action) {\n\t\t\tlet item = unescape(element.attr('data-item'));\n\t\t\tlet warehouse = unescape(element.attr('data-warehouse'));\n\t\t\tlet actual_qty = unescape(element.attr('data-actual_qty'));\n\t\t\tlet disable_quick_entry = Number(unescape(element.attr('data-disable_quick_entry')));\n\t\t\tlet entry_type = action === \"Move\" ? \"Material Transfer\" : null;\n\n\t\t\tif (disable_quick_entry) {\n\t\t\t\topen_stock_entry(item, warehouse, entry_type);\n\t\t\t} else {\n\t\t\t\tif (action === \"Add\") {\n\t\t\t\t\tlet rate = unescape($(this).attr('data-rate'));\n\t\t\t\t\terpnext.stock.move_item(item, null, warehouse, actual_qty, rate, function () {\n\t\t\t\t\t\tme.refresh();\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\terpnext.stock.move_item(item, warehouse, null, actual_qty, null, function () {\n\t\t\t\t\t\tme.refresh();\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tfunction open_stock_entry(item, warehouse, entry_type) {\n\t\t\tfrappe.model.with_doctype('Stock Entry', function () {\n\t\t\t\tvar doc = frappe.model.get_new_doc('Stock Entry');\n\t\t\t\tif (entry_type) doc.stock_entry_type = entry_type;\n\n\t\t\t\tvar row = frappe.model.add_child(doc, 'items');\n\t\t\t\trow.item_code = item;\n\t\t\t\trow.s_warehouse = warehouse;\n\n\t\t\t\tfrappe.set_route('Form', doc.doctype, doc.name);\n\t\t\t});\n\t\t}\n\n\t\t// more\n\t\tthis.content.find('.btn-more').on('click', function () {\n\t\t\tme.start += me.page_length;\n\t\t\tme.refresh();\n\t\t});\n\n\t},\n\trefresh: function () {\n\t\tif (this.before_refresh) {\n\t\t\tthis.before_refresh();\n\t\t}\n\n\t\tlet args = {\n\t\t\titem_code: this.item_code,\n\t\t\twarehouse: this.warehouse,\n\t\t\tparent_warehouse: this.parent_warehouse,\n\t\t\titem_group: this.item_group,\n\t\t\tcompany: this.company,\n\t\t\tstart: this.start,\n\t\t\tsort_by: this.sort_by,\n\t\t\tsort_order: this.sort_order\n\t\t};\n\n\t\tvar me = this;\n\t\tfrappe.call({\n\t\t\tmethod: this.method,\n\t\t\targs: args,\n\t\t\tcallback: function (r) {\n\t\t\t\tme.render(r.message);\n\t\t\t}\n\t\t});\n\t},\n\trender: function (data) {\n\t\tif (this.start === 0) {\n\t\t\tthis.max_count = 0;\n\t\t\tthis.result.empty();\n\t\t}\n\n\t\tlet context = \"\";\n\t\tif (this.page_name === \"warehouse-capacity-summary\") {\n\t\t\tcontext = this.get_capacity_dashboard_data(data);\n\t\t} else {\n\t\t\tcontext = this.get_item_dashboard_data(data, this.max_count, true);\n\t\t}\n\n\t\tthis.max_count = this.max_count;\n\n\t\t// show more button\n\t\tif (data && data.length === (this.page_length + 1)) {\n\t\t\tthis.content.find('.more').removeClass('hidden');\n\n\t\t\t// remove the last element\n\t\t\tdata.splice(-1);\n\t\t} else {\n\t\t\tthis.content.find('.more').addClass('hidden');\n\t\t}\n\n\t\t// If not any stock in any warehouses provide a message to end user\n\t\tif (context.data.length > 0) {\n\t\t\tthis.content.find('.result').css('text-align', 'unset');\n\t\t\t$(frappe.render_template(this.template, context)).appendTo(this.result);\n\t\t} else {\n\t\t\tvar message = __(\"No Stock Available Currently\");\n\t\t\tthis.content.find('.result').css('text-align', 'center');\n\n\t\t\t$(`<div class='text-muted' style='margin: 20px 5px;'>\n\t\t\t\t${message} </div>`).appendTo(this.result);\n\t\t}\n\t},\n\n\tget_item_dashboard_data: function (data, max_count, show_item) {\n\t\tif (!max_count) max_count = 0;\n\t\tif (!data) data = [];\n\n\t\tdata.forEach(function (d) {\n\t\t\td.actual_or_pending = d.projected_qty + d.reserved_qty + d.reserved_qty_for_production + d.reserved_qty_for_sub_contract;\n\t\t\td.pending_qty = 0;\n\t\t\td.total_reserved = d.reserved_qty + d.reserved_qty_for_production + d.reserved_qty_for_sub_contract;\n\t\t\tif (d.actual_or_pending > d.actual_qty) {\n\t\t\t\td.pending_qty = d.actual_or_pending - d.actual_qty;\n\t\t\t}\n\n\t\t\tmax_count = Math.max(d.actual_or_pending, d.actual_qty,\n\t\t\t\td.total_reserved, max_count);\n\t\t});\n\n\t\tlet can_write = 0;\n\t\tif (frappe.boot.user.can_write.indexOf(\"Stock Entry\") >= 0) {\n\t\t\tcan_write = 1;\n\t\t}\n\n\t\treturn {\n\t\t\tdata: data,\n\t\t\tmax_count: max_count,\n\t\t\tcan_write: can_write,\n\t\t\tshow_item: show_item || false\n\t\t};\n\t},\n\n\tget_capacity_dashboard_data: function (data) {\n\t\tif (!data) data = [];\n\n\t\tdata.forEach(function (d) {\n\t\t\td.color = d.percent_occupied >= 80 ? \"#f8814f\" : \"#2490ef\";\n\t\t});\n\n\t\tlet can_write = 0;\n\t\tif (frappe.boot.user.can_write.indexOf(\"Putaway Rule\") >= 0) {\n\t\t\tcan_write = 1;\n\t\t}\n\n\t\treturn {\n\t\t\tdata: data,\n\t\t\tcan_write: can_write,\n\t\t};\n\t}\n});\n\nerpnext.stock.move_item = function (item, source, target, actual_qty, rate, callback) {\n\tvar dialog = new frappe.ui.Dialog({\n\t\ttitle: target ? __('Add Item') : __('Move Item'),\n\t\tfields: [{\n\t\t\tfieldname: 'item_code',\n\t\t\tlabel: __('Item'),\n\t\t\tfieldtype: 'Link',\n\t\t\toptions: 'Item',\n\t\t\tread_only: 1\n\t\t},\n\t\t{\n\t\t\tfieldname: 'source',\n\t\t\tlabel: __('Source Warehouse'),\n\t\t\tfieldtype: 'Link',\n\t\t\toptions: 'Warehouse',\n\t\t\tread_only: 1\n\t\t},\n\t\t{\n\t\t\tfieldname: 'target',\n\t\t\tlabel: __('Target Warehouse'),\n\t\t\tfieldtype: 'Link',\n\t\t\toptions: 'Warehouse',\n\t\t\treqd: 1\n\t\t},\n\t\t{\n\t\t\tfieldname: 'qty',\n\t\t\tlabel: __('Quantity'),\n\t\t\treqd: 1,\n\t\t\tfieldtype: 'Float',\n\t\t\tdescription: __('Available {0}', [actual_qty])\n\t\t},\n\t\t{\n\t\t\tfieldname: 'rate',\n\t\t\tlabel: __('Rate'),\n\t\t\tfieldtype: 'Currency',\n\t\t\thidden: 1\n\t\t},\n\t\t],\n\t});\n\tdialog.show();\n\tdialog.get_field('item_code').set_input(item);\n\n\tif (source) {\n\t\tdialog.get_field('source').set_input(source);\n\t} else {\n\t\tdialog.get_field('source').df.hidden = 1;\n\t\tdialog.get_field('source').refresh();\n\t}\n\n\tif (rate) {\n\t\tdialog.get_field('rate').set_value(rate);\n\t\tdialog.get_field('rate').df.hidden = 0;\n\t\tdialog.get_field('rate').refresh();\n\t}\n\n\tif (target) {\n\t\tdialog.get_field('target').df.read_only = 1;\n\t\tdialog.get_field('target').value = target;\n\t\tdialog.get_field('target').refresh();\n\t}\n\n\tdialog.set_primary_action(__('Submit'), function () {\n\t\tvar values = dialog.get_values();\n\t\tif (!values) {\n\t\t\treturn;\n\t\t}\n\t\tif (source && values.qty > actual_qty) {\n\t\t\tfrappe.msgprint(__('Quantity must be less than or equal to {0}', [actual_qty]));\n\t\t\treturn;\n\t\t}\n\t\tif (values.source === values.target) {\n\t\t\tfrappe.msgprint(__('Source and target warehouse must be different'));\n\t\t}\n\n\t\tfrappe.call({\n\t\t\tmethod: 'erpnext.stock.doctype.stock_entry.stock_entry_utils.make_stock_entry',\n\t\t\targs: values,\n\t\t\tbtn: dialog.get_primary_btn(),\n\t\t\tfreeze: true,\n\t\t\tfreeze_message: __('Creating Stock Entry'),\n\t\t\tcallback: function (r) {\n\t\t\t\tfrappe.show_alert(__('Stock Entry {0} created',\n\t\t\t\t\t['<a href=\"/app/stock-entry/' + r.message.name + '\">' + r.message.name + '</a>']));\n\t\t\t\tdialog.hide();\n\t\t\t\tcallback(r);\n\t\t\t},\n\t\t});\n\t});\n\n\t$('<p style=\"margin-left: 10px;\"><a class=\"link-open text-muted small\">' +\n\t\t\t__(\"Add more items or open full form\") + '</a></p>')\n\t\t.appendTo(dialog.body)\n\t\t.find('.link-open')\n\t\t.on('click', function () {\n\t\t\tfrappe.model.with_doctype('Stock Entry', function () {\n\t\t\t\tvar doc = frappe.model.get_new_doc('Stock Entry');\n\t\t\t\tdoc.from_warehouse = dialog.get_value('source');\n\t\t\t\tdoc.to_warehouse = dialog.get_value('target');\n\t\t\t\tvar row = frappe.model.add_child(doc, 'items');\n\t\t\t\trow.item_code = dialog.get_value('item_code');\n\t\t\t\trow.f_warehouse = dialog.get_value('target');\n\t\t\t\trow.t_warehouse = dialog.get_value('target');\n\t\t\t\trow.qty = dialog.get_value('qty');\n\t\t\t\trow.conversion_factor = 1;\n\t\t\t\trow.transfer_qty = dialog.get_value('qty');\n\t\t\t\trow.basic_rate = dialog.get_value('rate');\n\t\t\t\tfrappe.set_route('Form', doc.doctype, doc.name);\n\t\t\t});\n\t\t});\n};\n"],"names":["let"],"mappings":";;;;;;;CAAA,MAAM,CAAC,OAAO,CAAC,eAAe,CAAC,CAAC;;CAEhC,OAAO,CAAC,KAAK,CAAC,aAAa,GAAG,KAAK,CAAC,MAAM,CAAC;EAC1C,IAAI,EAAE,UAAU,IAAI,EAAE;GACrB,CAAC,CAAC,MAAM,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;GACrB,IAAI,CAAC,IAAI,EAAE,CAAC;GACZ;EACD,IAAI,EAAE,YAAY;GACjB,IAAI,EAAE,GAAG,IAAI,CAAC;GACd,IAAI,CAAC,KAAK,GAAG,CAAC,CAAC;GACf,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE;IAClB,IAAI,CAAC,OAAO,GAAG,eAAe,CAAC;IAC/B,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;IACxB;;GAED,IAAI,CAAC,OAAO,GAAG,CAAC,CAAC,MAAM,CAAC,eAAe,CAAC,gBAAgB,CAAC,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;GACjF,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;;GAE3C,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,OAAO,EAAE,WAAW,EAAE,YAAY;IACjD,eAAe,CAAC,CAAC,CAAC,IAAI,CAAC,EAAE,MAAM,CAAC,CAAC;IACjC,CAAC,CAAC;;GAEH,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,OAAO,EAAE,UAAU,EAAE,YAAY;IAChD,eAAe,CAAC,CAAC,CAAC,IAAI,CAAC,EAAE,KAAK,CAAC,CAAC;IAChC,CAAC,CAAC;;GAEH,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,OAAO,EAAE,WAAW,EAAE,YAAY;IACjDA,IAAI,IAAI,GAAG,QAAQ,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC;IAC/CA,IAAI,SAAS,GAAG,QAAQ,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC,CAAC;IACzDA,IAAI,OAAO,GAAG,QAAQ,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC;IACrD,MAAM,CAAC,EAAE,CAAC,SAAS,CAAC,cAAc,EAAE;KACnC,WAAW,EAAE,IAAI;KACjB,WAAW,EAAE,SAAS;KACtB,SAAS,EAAE,OAAO;KAClB,EAAE,MAAM,YAAG,CAAC,EAAE;KACd,MAAM,CAAC,SAAS,CAAC,MAAM,EAAE,cAAc,EAAE,CAAC,CAAC,IAAI,CAAC,CAAC;KACjD,CAAC,CAAC;IACH,CAAC,CAAC;;GAEH,SAAS,eAAe,CAAC,OAAO,EAAE,MAAM,EAAE;IACzCA,IAAI,IAAI,GAAG,QAAQ,CAAC,OAAO,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC;IAC/CA,IAAI,SAAS,GAAG,QAAQ,CAAC,OAAO,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC,CAAC;IACzDA,IAAI,UAAU,GAAG,QAAQ,CAAC,OAAO,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC,CAAC;IAC3DA,IAAI,mBAAmB,GAAG,MAAM,CAAC,QAAQ,CAAC,OAAO,CAAC,IAAI,CAAC,0BAA0B,CAAC,CAAC,CAAC,CAAC;IACrFA,IAAI,UAAU,GAAG,MAAM,KAAK,MAAM,GAAG,mBAAmB,GAAG,IAAI,CAAC;;IAEhE,IAAI,mBAAmB,EAAE;KACxB,gBAAgB,CAAC,IAAI,EAAE,SAAS,EAAE,UAAU,CAAC,CAAC;KAC9C,MAAM;KACN,IAAI,MAAM,KAAK,KAAK,EAAE;MACrBA,IAAI,IAAI,GAAG,QAAQ,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC;MAC/C,OAAO,CAAC,KAAK,CAAC,SAAS,CAAC,IAAI,EAAE,IAAI,EAAE,SAAS,EAAE,UAAU,EAAE,IAAI,EAAE,YAAY;OAC5E,EAAE,CAAC,OAAO,EAAE,CAAC;OACb,CAAC,CAAC;MACH,MAAM;MACN,OAAO,CAAC,KAAK,CAAC,SAAS,CAAC,IAAI,EAAE,SAAS,EAAE,IAAI,EAAE,UAAU,EAAE,IAAI,EAAE,YAAY;OAC5E,EAAE,CAAC,OAAO,EAAE,CAAC;OACb,CAAC,CAAC;MACH;KACD;IACD;;GAED,SAAS,gBAAgB,CAAC,IAAI,EAAE,SAAS,EAAE,UAAU,EAAE;IACtD,MAAM,CAAC,KAAK,CAAC,YAAY,CAAC,aAAa,EAAE,YAAY;KACpD,IAAI,GAAG,GAAG,MAAM,CAAC,KAAK,CAAC,WAAW,CAAC,aAAa,CAAC,CAAC;KAClD,IAAI,UAAU,IAAE,GAAG,CAAC,gBAAgB,GAAG,UAAU,GAAC;;KAElD,IAAI,GAAG,GAAG,MAAM,CAAC,KAAK,CAAC,SAAS,CAAC,GAAG,EAAE,OAAO,CAAC,CAAC;KAC/C,GAAG,CAAC,SAAS,GAAG,IAAI,CAAC;KACrB,GAAG,CAAC,WAAW,GAAG,SAAS,CAAC;;KAE5B,MAAM,CAAC,SAAS,CAAC,MAAM,EAAE,GAAG,CAAC,OAAO,EAAE,GAAG,CAAC,IAAI,CAAC,CAAC;KAChD,CAAC,CAAC;IACH;;;GAGD,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,EAAE,CAAC,OAAO,EAAE,YAAY;IACtD,EAAE,CAAC,KAAK,IAAI,EAAE,CAAC,WAAW,CAAC;IAC3B,EAAE,CAAC,OAAO,EAAE,CAAC;IACb,CAAC,CAAC;;GAEH;EACD,OAAO,EAAE,YAAY;GACpB,IAAI,IAAI,CAAC,cAAc,EAAE;IACxB,IAAI,CAAC,cAAc,EAAE,CAAC;IACtB;;GAEDA,IAAI,IAAI,GAAG;IACV,SAAS,EAAE,IAAI,CAAC,SAAS;IACzB,SAAS,EAAE,IAAI,CAAC,SAAS;IACzB,gBAAgB,EAAE,IAAI,CAAC,gBAAgB;IACvC,UAAU,EAAE,IAAI,CAAC,UAAU;IAC3B,OAAO,EAAE,IAAI,CAAC,OAAO;IACrB,KAAK,EAAE,IAAI,CAAC,KAAK;IACjB,OAAO,EAAE,IAAI,CAAC,OAAO;IACrB,UAAU,EAAE,IAAI,CAAC,UAAU;IAC3B,CAAC;;GAEF,IAAI,EAAE,GAAG,IAAI,CAAC;GACd,MAAM,CAAC,IAAI,CAAC;IACX,MAAM,EAAE,IAAI,CAAC,MAAM;IACnB,IAAI,EAAE,IAAI;IACV,QAAQ,EAAE,UAAU,CAAC,EAAE;KACtB,EAAE,CAAC,MAAM,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC;KACrB;IACD,CAAC,CAAC;GACH;EACD,MAAM,EAAE,UAAU,IAAI,EAAE;GACvB,IAAI,IAAI,CAAC,KAAK,KAAK,CAAC,EAAE;IACrB,IAAI,CAAC,SAAS,GAAG,CAAC,CAAC;IACnB,IAAI,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC;IACpB;;GAEDA,IAAI,OAAO,GAAG,EAAE,CAAC;GACjB,IAAI,IAAI,CAAC,SAAS,KAAK,4BAA4B,EAAE;IACpD,OAAO,GAAG,IAAI,CAAC,2BAA2B,CAAC,IAAI,CAAC,CAAC;IACjD,MAAM;IACN,OAAO,GAAG,IAAI,CAAC,uBAAuB,CAAC,IAAI,EAAE,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC;IACnE;;GAED,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC;;;GAGhC,IAAI,IAAI,IAAI,IAAI,CAAC,MAAM,MAAM,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC,EAAE;IACnD,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;;;IAGjD,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;IAChB,MAAM;IACN,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC;IAC9C;;;GAGD,IAAI,OAAO,CAAC,IAAI,CAAC,MAAM,GAAG,CAAC,EAAE;IAC5B,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,GAAG,CAAC,YAAY,EAAE,OAAO,CAAC,CAAC;IACxD,CAAC,CAAC,MAAM,CAAC,eAAe,CAAC,IAAI,CAAC,QAAQ,EAAE,OAAO,CAAC,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;IACxE,MAAM;IACN,IAAI,OAAO,GAAG,EAAE,CAAC,8BAA8B,CAAC,CAAC;IACjD,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,GAAG,CAAC,YAAY,EAAE,QAAQ,CAAC,CAAC;;IAEzD,CAAC,mEACE,OAAO,cAAU,CAAC,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;IAC3C;GACD;;EAED,uBAAuB,EAAE,UAAU,IAAI,EAAE,SAAS,EAAE,SAAS,EAAE;GAC9D,IAAI,CAAC,SAAS,IAAE,SAAS,GAAG,CAAC,GAAC;GAC9B,IAAI,CAAC,IAAI,IAAE,IAAI,GAAG,EAAE,GAAC;;GAErB,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,EAAE;IACzB,CAAC,CAAC,iBAAiB,GAAG,CAAC,CAAC,aAAa,GAAG,CAAC,CAAC,YAAY,GAAG,CAAC,CAAC,2BAA2B,GAAG,CAAC,CAAC,6BAA6B,CAAC;IACzH,CAAC,CAAC,WAAW,GAAG,CAAC,CAAC;IAClB,CAAC,CAAC,cAAc,GAAG,CAAC,CAAC,YAAY,GAAG,CAAC,CAAC,2BAA2B,GAAG,CAAC,CAAC,6BAA6B,CAAC;IACpG,IAAI,CAAC,CAAC,iBAAiB,GAAG,CAAC,CAAC,UAAU,EAAE;KACvC,CAAC,CAAC,WAAW,GAAG,CAAC,CAAC,iBAAiB,GAAG,CAAC,CAAC,UAAU,CAAC;KACnD;;IAED,SAAS,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,iBAAiB,EAAE,CAAC,CAAC,UAAU;KACrD,CAAC,CAAC,cAAc,EAAE,SAAS,CAAC,CAAC;IAC9B,CAAC,CAAC;;GAEHA,IAAI,SAAS,GAAG,CAAC,CAAC;GAClB,IAAI,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,aAAa,CAAC,IAAI,CAAC,EAAE;IAC3D,SAAS,GAAG,CAAC,CAAC;IACd;;GAED,OAAO;IACN,IAAI,EAAE,IAAI;IACV,SAAS,EAAE,SAAS;IACpB,SAAS,EAAE,SAAS;IACpB,SAAS,EAAE,SAAS,IAAI,KAAK;IAC7B,CAAC;GACF;;EAED,2BAA2B,EAAE,UAAU,IAAI,EAAE;GAC5C,IAAI,CAAC,IAAI,IAAE,IAAI,GAAG,EAAE,GAAC;;GAErB,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,EAAE;IACzB,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,gBAAgB,IAAI,EAAE,GAAG,SAAS,GAAG,SAAS,CAAC;IAC3D,CAAC,CAAC;;GAEHA,IAAI,SAAS,GAAG,CAAC,CAAC;GAClB,IAAI,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,cAAc,CAAC,IAAI,CAAC,EAAE;IAC5D,SAAS,GAAG,CAAC,CAAC;IACd;;GAED,OAAO;IACN,IAAI,EAAE,IAAI;IACV,SAAS,EAAE,SAAS;IACpB,CAAC;GACF;EACD,CAAC,CAAC;;CAEH,OAAO,CAAC,KAAK,CAAC,SAAS,GAAG,UAAU,IAAI,EAAE,MAAM,EAAE,MAAM,EAAE,UAAU,EAAE,IAAI,EAAE,QAAQ,EAAE;EACrF,IAAI,MAAM,GAAG,IAAI,MAAM,CAAC,EAAE,CAAC,MAAM,CAAC;GACjC,KAAK,EAAE,MAAM,GAAG,EAAE,CAAC,UAAU,CAAC,GAAG,EAAE,CAAC,WAAW,CAAC;GAChD,MAAM,EAAE,CAAC;IACR,SAAS,EAAE,WAAW;IACtB,KAAK,EAAE,EAAE,CAAC,MAAM,CAAC;IACjB,SAAS,EAAE,MAAM;IACjB,OAAO,EAAE,MAAM;IACf,SAAS,EAAE,CAAC;IACZ;GACD;IACC,SAAS,EAAE,QAAQ;IACnB,KAAK,EAAE,EAAE,CAAC,kBAAkB,CAAC;IAC7B,SAAS,EAAE,MAAM;IACjB,OAAO,EAAE,WAAW;IACpB,SAAS,EAAE,CAAC;IACZ;GACD;IACC,SAAS,EAAE,QAAQ;IACnB,KAAK,EAAE,EAAE,CAAC,kBAAkB,CAAC;IAC7B,SAAS,EAAE,MAAM;IACjB,OAAO,EAAE,WAAW;IACpB,IAAI,EAAE,CAAC;IACP;GACD;IACC,SAAS,EAAE,KAAK;IAChB,KAAK,EAAE,EAAE,CAAC,UAAU,CAAC;IACrB,IAAI,EAAE,CAAC;IACP,SAAS,EAAE,OAAO;IAClB,WAAW,EAAE,EAAE,CAAC,eAAe,EAAE,CAAC,UAAU,CAAC,CAAC;IAC9C;GACD;IACC,SAAS,EAAE,MAAM;IACjB,KAAK,EAAE,EAAE,CAAC,MAAM,CAAC;IACjB,SAAS,EAAE,UAAU;IACrB,MAAM,EAAE,CAAC;IACT,EACA;GACD,CAAC,CAAC;EACH,MAAM,CAAC,IAAI,EAAE,CAAC;EACd,MAAM,CAAC,SAAS,CAAC,WAAW,CAAC,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;;EAE9C,IAAI,MAAM,EAAE;GACX,MAAM,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;GAC7C,MAAM;GACN,MAAM,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,MAAM,GAAG,CAAC,CAAC;GACzC,MAAM,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC,OAAO,EAAE,CAAC;GACrC;;EAED,IAAI,IAAI,EAAE;GACT,MAAM,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;GACzC,MAAM,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,MAAM,GAAG,CAAC,CAAC;GACvC,MAAM,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC,OAAO,EAAE,CAAC;GACnC;;EAED,IAAI,MAAM,EAAE;GACX,MAAM,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,SAAS,GAAG,CAAC,CAAC;GAC5C,MAAM,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC,KAAK,GAAG,MAAM,CAAC;GAC1C,MAAM,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC,OAAO,EAAE,CAAC;GACrC;;EAED,MAAM,CAAC,kBAAkB,CAAC,EAAE,CAAC,QAAQ,CAAC,EAAE,YAAY;GACnD,IAAI,MAAM,GAAG,MAAM,CAAC,UAAU,EAAE,CAAC;GACjC,IAAI,CAAC,MAAM,EAAE;IACZ,OAAO;IACP;GACD,IAAI,MAAM,IAAI,MAAM,CAAC,GAAG,GAAG,UAAU,EAAE;IACtC,MAAM,CAAC,QAAQ,CAAC,EAAE,CAAC,4CAA4C,EAAE,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;IAChF,OAAO;IACP;GACD,IAAI,MAAM,CAAC,MAAM,KAAK,MAAM,CAAC,MAAM,EAAE;IACpC,MAAM,CAAC,QAAQ,CAAC,EAAE,CAAC,+CAA+C,CAAC,CAAC,CAAC;IACrE;;GAED,MAAM,CAAC,IAAI,CAAC;IACX,MAAM,EAAE,sEAAsE;IAC9E,IAAI,EAAE,MAAM;IACZ,GAAG,EAAE,MAAM,CAAC,eAAe,EAAE;IAC7B,MAAM,EAAE,IAAI;IACZ,cAAc,EAAE,EAAE,CAAC,sBAAsB,CAAC;IAC1C,QAAQ,EAAE,UAAU,CAAC,EAAE;KACtB,MAAM,CAAC,UAAU,CAAC,EAAE,CAAC,yBAAyB;MAC7C,CAAC,4BAA4B,GAAG,CAAC,CAAC,OAAO,CAAC,IAAI,GAAG,IAAI,GAAG,CAAC,CAAC,OAAO,CAAC,IAAI,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC;KACpF,MAAM,CAAC,IAAI,EAAE,CAAC;KACd,QAAQ,CAAC,CAAC,CAAC,CAAC;KACZ;IACD,CAAC,CAAC;GACH,CAAC,CAAC;;EAEH,CAAC,CAAC,sEAAsE;IACtE,EAAE,CAAC,kCAAkC,CAAC,GAAG,UAAU,CAAC;IACpD,QAAQ,CAAC,MAAM,CAAC,IAAI,CAAC;IACrB,IAAI,CAAC,YAAY,CAAC;IAClB,EAAE,CAAC,OAAO,EAAE,YAAY;IACxB,MAAM,CAAC,KAAK,CAAC,YAAY,CAAC,aAAa,EAAE,YAAY;KACpD,IAAI,GAAG,GAAG,MAAM,CAAC,KAAK,CAAC,WAAW,CAAC,aAAa,CAAC,CAAC;KAClD,GAAG,CAAC,cAAc,GAAG,MAAM,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC;KAChD,GAAG,CAAC,YAAY,GAAG,MAAM,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC;KAC9C,IAAI,GAAG,GAAG,MAAM,CAAC,KAAK,CAAC,SAAS,CAAC,GAAG,EAAE,OAAO,CAAC,CAAC;KAC/C,GAAG,CAAC,SAAS,GAAG,MAAM,CAAC,SAAS,CAAC,WAAW,CAAC,CAAC;KAC9C,GAAG,CAAC,WAAW,GAAG,MAAM,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC;KAC7C,GAAG,CAAC,WAAW,GAAG,MAAM,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC;KAC7C,GAAG,CAAC,GAAG,GAAG,MAAM,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC;KAClC,GAAG,CAAC,iBAAiB,GAAG,CAAC,CAAC;KAC1B,GAAG,CAAC,YAAY,GAAG,MAAM,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC;KAC3C,GAAG,CAAC,UAAU,GAAG,MAAM,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;KAC1C,MAAM,CAAC,SAAS,CAAC,MAAM,EAAE,GAAG,CAAC,OAAO,EAAE,GAAG,CAAC,IAAI,CAAC,CAAC;KAChD,CAAC,CAAC;IACH,CAAC,CAAC;EACJ,CAAC;;;;;;;;"}